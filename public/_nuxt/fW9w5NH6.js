const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./9vMqxoZ8.js","./DX_H16pI.js","./entry.Dt9SiiT9.css","./oTq5LOFq.js","./DsJLh50l.js","./iUfmsyJC.js","./D8V6hF9r.js","./ACzUO48d.js","./marker.DNa_xIHA.css","./map.Mnu8qizV.css","./4eb9OXBW.js","./submit.DBelDcS-.css","./BeJyePAs.js"])))=>i.map(i=>d[i]);
import{g as B,j as Q,k as Oe,l as te,c as q,s as Ze,m as We,p as ue,n as Xe,q as Se,r as h,v as y,o as E,F as W,x as oe,a as D,y as Re,z as ke,A,B as le,t as Z,C as H,_ as K,D as Ye,i as se,E as re,G as Ge,H as De,I as L,J as z,b as V,w as F,T as Je,K as de,S as et,L as tt,M as rt,N as P,O as at}from"./DX_H16pI.js";const nt=Symbol.for("nuxt:client-only"),it=B({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:a}){const i=Ze(!1);Q(()=>{i.value=!0});const o=We();return o&&(o._nuxtClientOnly=!0),ue(nt,!0),()=>{if(i.value){const p=t.default?.();return p&&p.length===1?[Oe(p[0],a)]:p}const n=t.fallback||t.placeholder;if(n)return te(n);const r=e.fallback||e.placeholder||"",_=e.fallbackTag||e.placeholderTag||"span";return q(_,a,r)}}}),Ne=Xe("/sprite.svg"),X={driver:{titleRu:"Водитель",routes:[{key:"map",titleRu:"Карта"},{key:"applications",titleRu:"Заявки"},{key:"submit",titleRu:"Оставить заявку"}]},consignee:{titleRu:"Грузополучатель",routes:[{key:"applications",titleRu:"Заявки"},{key:"queue",titleRu:"Очередь"},{key:"analytics",titleRu:"Аналитика"}]},manager:{titleRu:"Менеджер ТК",routes:[{key:"applications",titleRu:"Заявки"}]}},ce=Se("demoStore",()=>{const e=h("driver"),t=h("map"),a=h("applications"),i=h("applications"),o=h("drv_tc001_01"),n=h("pl_001"),r=y(()=>e.value==="driver"?t.value:e.value==="consignee"?a.value:i.value),_=y(()=>X[e.value].routes.find(v=>v.key===r.value)?.titleRu??"");function p(c){if(e.value==="driver"){t.value=c;return}if(e.value==="consignee"){a.value=c;return}i.value=c}function s(c){e.value=c}return{currentRole:e,driverViewRoute:t,consigneeViewRoute:a,managerViewRoute:i,currentView:r,currentDriverId:o,currentArrivalPlaceId:n,getCurrentRouteTitle:_,setRole:s,setCurrentRoute:p}}),ot=Ne+"#down-chevron",lt={class:"demo__roles-nav",role:"radiogroup","aria-label":"roles in demo"},dt=["value"],_t={class:"role-card__icon","aria-hidden":"true"},ut=["href"],st={class:"role-card__title"},ct={class:"role-card__description"},vt=B({__name:"rolesNav",setup(e){const t=ce(),a={driver:{title:"Водитель грузового ТС",description:"Бронирование слотов и въезд на территорию",iconPath:"/sprite.svg#driver",role:"driver"},consignee:{title:"Грузополучатель",description:"Контроль очереди и операций",iconPath:"/sprite.svg#consignee",role:"consignee"},manager:{title:"Менеджер транспортной компании",description:"Планирование отгрузок и мониторинг",iconPath:"/sprite.svg#manager",role:"manager"}},i=y({get:()=>t.currentRole,set:o=>t.setRole(o)});return(o,n)=>(E(),q("div",lt,[(E(),q(W,null,oe(a,r=>D("label",{key:r.role,class:H(["demo__role-card role-card",{"role-card--active":A(i)===r.role}])},[Re(D("input",{class:"role-card__radio",type:"radio",name:"demo-role",value:r.role,"onUpdate:modelValue":n[0]||(n[0]=_=>le(i)?i.value=_:null)},null,8,dt),[[ke,A(i)]]),(E(),q("svg",_t,[D("use",{href:r.iconPath},null,8,ut)])),D("span",st,Z(r.title),1),D("span",ct,Z(r.description),1),(E(),q("svg",{class:H(["role-card__chevron",{"role-card__chevron--show":A(i)===r.role}]),"aria-hidden":"true"},[...n[1]||(n[1]=[D("use",{href:ot},null,-1)])],2))],2)),64))]))}}),Ee=Object.assign(K(vt,[["__scopeId","data-v-a6aa2265"]]),{__name:"DemoRolesNav"}),pt=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"}));function mt(e,t,a){let i=h(a?.value),o=y(()=>e.value!==void 0);return[y(()=>o.value?e.value:i.value),function(n){return o.value||(i.value=n),t?.(n)}]}var fe;let ft=Symbol("headlessui.useid"),bt=0;const ve=(fe=Ye)!=null?fe:function(){return se(ft,()=>`${++bt}`)()};function O(e){var t;if(e==null||e.value==null)return null;let a=(t=e.value.$el)!=null?t:e.value;return a instanceof Node?a:null}function I(e,t,...a){if(e in t){let o=t[e];return typeof o=="function"?o(...a):o}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,I),i}var ht=Object.defineProperty,gt=(e,t,a)=>t in e?ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,be=(e,t,a)=>(gt(e,typeof t!="symbol"?t+"":t,a),a);let Tt=class{constructor(){be(this,"current",this.detect()),be(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},pe=new Tt;function yt(e){if(pe.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=O(e);if(t)return t.ownerDocument}return document}let he=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var wt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(wt||{}),xt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(xt||{}),Ot=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ot||{}),me=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(me||{});function je(e,t=0){var a;return e===((a=yt(e))==null?void 0:a.body)?!1:I(t,{0(){return e.matches(he)},1(){let i=e;for(;i!==null;){if(i.matches(he))return!0;i=i.parentElement}return!1}})}var St=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(St||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Rt(e,t=a=>a){return e.slice().sort((a,i)=>{let o=t(a),n=t(i);if(o===null||n===null)return 0;let r=o.compareDocumentPosition(n);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Dt(){return/Android/gi.test(window.navigator.userAgent)}function Nt(){return kt()||Dt()}function J(e,t,a){pe.isServer||re(i=>{document.addEventListener(e,t,a),i(()=>document.removeEventListener(e,t,a))})}function Et(e,t,a){pe.isServer||re(i=>{window.addEventListener(e,t,a),i(()=>window.removeEventListener(e,t,a))})}function jt(e,t,a=y(()=>!0)){function i(n,r){if(!a.value||n.defaultPrevented)return;let _=r(n);if(_===null||!_.getRootNode().contains(_))return;let p=(function s(c){return typeof c=="function"?s(c()):Array.isArray(c)||c instanceof Set?c:[c]})(e);for(let s of p){if(s===null)continue;let c=s instanceof HTMLElement?s:O(s);if(c!=null&&c.contains(_)||n.composed&&n.composedPath().includes(c))return}return!je(_,me.Loose)&&_.tabIndex!==-1&&n.preventDefault(),t(n,_)}let o=h(null);J("pointerdown",n=>{var r,_;a.value&&(o.value=((_=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:_[0])||n.target)},!0),J("mousedown",n=>{var r,_;a.value&&(o.value=((_=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:_[0])||n.target)},!0),J("click",n=>{Nt()||o.value&&(i(n,()=>o.value),o.value=null)},!0),J("touchend",n=>i(n,()=>n.target instanceof HTMLElement?n.target:null),!0),Et("blur",n=>i(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ge(e,t){if(e)return e;let a=t??"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function qt(e,t){let a=h(ge(e.value.type,e.value.as));return Q(()=>{a.value=ge(e.value.type,e.value.as)}),re(()=>{var i;a.value||O(t)&&O(t)instanceof HTMLButtonElement&&!((i=O(t))!=null&&i.hasAttribute("type"))&&(a.value="button")}),a}let Te=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ye(e){var t,a;let i=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return i;let n=!1;for(let _ of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))_.remove(),n=!0;let r=n?(a=o.innerText)!=null?a:"":i;return Te.test(r)&&(r=r.replace(Te,"")),r}function Pt(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let a=e.getAttribute("aria-labelledby");if(a){let i=a.split(" ").map(o=>{let n=document.getElementById(o);if(n){let r=n.getAttribute("aria-label");return typeof r=="string"?r.trim():ye(n).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return ye(e).trim()}function At(e){let t=h(""),a=h("");return()=>{let i=O(e);if(!i)return"";let o=i.innerText;if(t.value===o)return a.value;let n=Pt(i).trim().toLowerCase();return t.value=o,a.value=n,n}}function we(e){return[e.screenX,e.screenY]}function $t(){let e=h([-1,-1]);return{wasMoved(t){let a=we(t);return e.value[0]===a[0]&&e.value[1]===a[1]?!1:(e.value=a,!0)},update(t){e.value=we(t)}}}var _e=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(_e||{}),Lt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Lt||{});function G({visible:e=!0,features:t=0,ourProps:a,theirProps:i,...o}){var n;let r=Pe(i,a),_=Object.assign(o,{props:r});if(e||t&2&&r.static)return ie(_);if(t&1){let p=(n=r.unmount)==null||n?0:1;return I(p,{0(){return null},1(){return ie({...o,props:{...r,hidden:!0,style:{display:"none"}}})}})}return ie(_)}function ie({props:e,attrs:t,slots:a,slot:i,name:o}){var n,r;let{as:_,...p}=Ae(e,["unmount","static"]),s=(n=a.default)==null?void 0:n.call(a,i),c={};if(i){let u=!1,v=[];for(let[N,R]of Object.entries(i))typeof R=="boolean"&&(u=!0),R===!0&&v.push(N);u&&(c["data-headlessui-state"]=v.join(" "))}if(_==="template"){if(s=qe(s??[]),Object.keys(p).length>0||Object.keys(t).length>0){let[u,...v]=s??[];if(!Ct(u)||v.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(p).concat(Object.keys(t)).map(g=>g.trim()).filter((g,f,T)=>T.indexOf(g)===f).sort((g,f)=>g.localeCompare(f)).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let N=Pe((r=u.props)!=null?r:{},p,c),R=Oe(u,N,!0);for(let g in N)g.startsWith("on")&&(R.props||(R.props={}),R.props[g]=N[g]);return R}return Array.isArray(s)&&s.length===1?s[0]:s}return te(_,Object.assign({},p,c),{default:()=>s})}function qe(e){return e.flatMap(t=>t.type===W?qe(t.children):[t])}function Pe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},a={};for(let i of e)for(let o in i)o.startsWith("on")&&typeof i[o]=="function"?(a[o]!=null||(a[o]=[]),a[o].push(i[o])):t[o]=i[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(a).map(i=>[i,void 0])));for(let i in a)Object.assign(t,{[i](o,...n){let r=a[i];for(let _ of r){if(o instanceof Event&&o.defaultPrevented)return;_(o,...n)}}});return t}function It(e){let t=Object.assign({},e);for(let a in t)t[a]===void 0&&delete t[a];return t}function Ae(e,t=[]){let a=Object.assign({},e);for(let i of t)i in a&&delete a[i];return a}function Ct(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var $e=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))($e||{});let Vt=B({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:a}){return()=>{var i;let{features:o,...n}=e,r={"aria-hidden":(o&2)===2?!0:(i=n["aria-hidden"])!=null?i:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return G({ourProps:r,theirProps:n,slot:{},attrs:a,slots:t,name:"Hidden"})}}}),Le=Symbol("Context");var Y=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Y||{});function Bt(){return se(Le,null)}function Ft(e){ue(Le,e)}var k=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(k||{});function Mt(e){throw new Error("Unexpected object: "+e)}var j=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(j||{});function Ut(e,t){let a=t.resolveItems();if(a.length<=0)return null;let i=t.resolveActiveIndex(),o=i??-1;switch(e.focus){case 0:{for(let n=0;n<a.length;++n)if(!t.resolveDisabled(a[n],n,a))return n;return i}case 1:{o===-1&&(o=a.length);for(let n=o-1;n>=0;--n)if(!t.resolveDisabled(a[n],n,a))return n;return i}case 2:{for(let n=o+1;n<a.length;++n)if(!t.resolveDisabled(a[n],n,a))return n;return i}case 3:{for(let n=a.length-1;n>=0;--n)if(!t.resolveDisabled(a[n],n,a))return n;return i}case 4:{for(let n=0;n<a.length;++n)if(t.resolveId(a[n],n,a)===e.id)return n;return i}case 5:return null;default:Mt(e)}}function Ie(e={},t=null,a=[]){for(let[i,o]of Object.entries(e))Ve(a,Ce(t,i),o);return a}function Ce(e,t){return e?e+"["+t+"]":t}function Ve(e,t,a){if(Array.isArray(a))for(let[i,o]of a.entries())Ve(e,Ce(t,i.toString()),o);else a instanceof Date?e.push([t,a.toISOString()]):typeof a=="boolean"?e.push([t,a?"1":"0"]):typeof a=="string"?e.push([t,a]):typeof a=="number"?e.push([t,`${a}`]):a==null?e.push([t,""]):Ie(a,t,e)}function zt(e,t){return e===t}var Ht=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ht||{}),Qt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Qt||{}),Kt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Kt||{});function Zt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Be=Symbol("ListboxContext");function ae(e){let t=se(Be,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ae),a}return t}let Wt=B({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>zt},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:a,emit:i}){let o=h(1),n=h(null),r=h(null),_=h(null),p=h([]),s=h(""),c=h(null),u=h(1);function v(l=d=>d){let d=c.value!==null?p.value[c.value]:null,m=Rt(l(p.value.slice()),w=>O(w.dataRef.domRef)),b=d?m.indexOf(d):null;return b===-1&&(b=null),{options:m,activeOptionIndex:b}}let N=y(()=>e.multiple?1:0),[R,g]=mt(y(()=>e.modelValue),l=>i("update:modelValue",l),y(()=>e.defaultValue)),f=y(()=>R.value===void 0?I(N.value,{1:[],0:void 0}):R.value),T={listboxState:o,value:f,mode:N,compare(l,d){if(typeof e.by=="string"){let m=e.by;return l?.[m]===d?.[m]}return e.by(l,d)},orientation:y(()=>e.horizontal?"horizontal":"vertical"),labelRef:n,buttonRef:r,optionsRef:_,disabled:y(()=>e.disabled),options:p,searchQuery:s,activeOptionIndex:c,activationTrigger:u,closeListbox(){e.disabled||o.value!==1&&(o.value=1,c.value=null)},openListbox(){e.disabled||o.value!==0&&(o.value=0)},goToOption(l,d,m){if(e.disabled||o.value===1)return;let b=v(),w=Ut(l===j.Specific?{focus:j.Specific,id:d}:{focus:l},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});s.value="",c.value=w,u.value=m??1,p.value=b.options},search(l){if(e.disabled||o.value===1)return;let d=s.value!==""?0:1;s.value+=l.toLowerCase();let m=(c.value!==null?p.value.slice(c.value+d).concat(p.value.slice(0,c.value+d)):p.value).find(w=>w.dataRef.textValue.startsWith(s.value)&&!w.dataRef.disabled),b=m?p.value.indexOf(m):-1;b===-1||b===c.value||(c.value=b,u.value=1)},clearSearch(){e.disabled||o.value!==1&&s.value!==""&&(s.value="")},registerOption(l,d){let m=v(b=>[...b,{id:l,dataRef:d}]);p.value=m.options,c.value=m.activeOptionIndex},unregisterOption(l){let d=v(m=>{let b=m.findIndex(w=>w.id===l);return b!==-1&&m.splice(b,1),m});p.value=d.options,c.value=d.activeOptionIndex,u.value=1},theirOnChange(l){e.disabled||g(l)},select(l){e.disabled||g(I(N.value,{0:()=>l,1:()=>{let d=L(T.value.value).slice(),m=L(l),b=d.findIndex(w=>T.compare(m,L(w)));return b===-1?d.push(m):d.splice(b,1),d}}))}};jt([r,_],(l,d)=>{var m;T.closeListbox(),je(d,me.Loose)||(l.preventDefault(),(m=O(r))==null||m.focus())},y(()=>o.value===0)),ue(Be,T),Ft(y(()=>I(o.value,{0:Y.Open,1:Y.Closed})));let S=y(()=>{var l;return(l=O(r))==null?void 0:l.closest("form")});return Q(()=>{De([S],()=>{if(!S.value||e.defaultValue===void 0)return;function l(){T.theirOnChange(e.defaultValue)}return S.value.addEventListener("reset",l),()=>{var d;(d=S.value)==null||d.removeEventListener("reset",l)}},{immediate:!0})}),()=>{let{name:l,modelValue:d,disabled:m,form:b,...w}=e,$={open:o.value===0,disabled:m,value:f.value};return te(W,[...l!=null&&f.value!=null?Ie({[l]:f.value}).map(([M,ne])=>te(Vt,It({features:$e.Hidden,key:M,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:b,disabled:m,name:M,value:ne}))):[],G({ourProps:{},theirProps:{...a,...Ae(w,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:$,slots:t,attrs:a,name:"Listbox"})])}}}),Xt=B({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:i}){var o;let n=(o=e.id)!=null?o:`headlessui-listbox-button-${ve()}`,r=ae("ListboxButton");i({el:r.buttonRef,$el:r.buttonRef});function _(u){switch(u.key){case k.Space:case k.Enter:case k.ArrowDown:u.preventDefault(),r.openListbox(),z(()=>{var v;(v=O(r.optionsRef))==null||v.focus({preventScroll:!0}),r.value.value||r.goToOption(j.First)});break;case k.ArrowUp:u.preventDefault(),r.openListbox(),z(()=>{var v;(v=O(r.optionsRef))==null||v.focus({preventScroll:!0}),r.value.value||r.goToOption(j.Last)});break}}function p(u){u.key===k.Space&&u.preventDefault()}function s(u){r.disabled.value||(r.listboxState.value===0?(r.closeListbox(),z(()=>{var v;return(v=O(r.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(u.preventDefault(),r.openListbox(),Zt(()=>{var v;return(v=O(r.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let c=qt(y(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var u,v;let N={open:r.listboxState.value===0,disabled:r.disabled.value,value:r.value.value},{...R}=e,g={ref:r.buttonRef,id:n,type:c.value,"aria-haspopup":"listbox","aria-controls":(u=O(r.optionsRef))==null?void 0:u.id,"aria-expanded":r.listboxState.value===0,"aria-labelledby":r.labelRef.value?[(v=O(r.labelRef))==null?void 0:v.id,n].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:_,onKeyup:p,onClick:s};return G({ourProps:g,theirProps:R,slot:N,attrs:t,slots:a,name:"ListboxButton"})}}}),Yt=B({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:i}){var o;let n=(o=e.id)!=null?o:`headlessui-listbox-options-${ve()}`,r=ae("ListboxOptions"),_=h(null);i({el:r.optionsRef,$el:r.optionsRef});function p(u){switch(_.value&&clearTimeout(_.value),u.key){case k.Space:if(r.searchQuery.value!=="")return u.preventDefault(),u.stopPropagation(),r.search(u.key);case k.Enter:if(u.preventDefault(),u.stopPropagation(),r.activeOptionIndex.value!==null){let v=r.options.value[r.activeOptionIndex.value];r.select(v.dataRef.value)}r.mode.value===0&&(r.closeListbox(),z(()=>{var v;return(v=O(r.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case I(r.orientation.value,{vertical:k.ArrowDown,horizontal:k.ArrowRight}):return u.preventDefault(),u.stopPropagation(),r.goToOption(j.Next);case I(r.orientation.value,{vertical:k.ArrowUp,horizontal:k.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),r.goToOption(j.Previous);case k.Home:case k.PageUp:return u.preventDefault(),u.stopPropagation(),r.goToOption(j.First);case k.End:case k.PageDown:return u.preventDefault(),u.stopPropagation(),r.goToOption(j.Last);case k.Escape:u.preventDefault(),u.stopPropagation(),r.closeListbox(),z(()=>{var v;return(v=O(r.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case k.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(r.search(u.key),_.value=setTimeout(()=>r.clearSearch(),350));break}}let s=Bt(),c=y(()=>s!==null?(s.value&Y.Open)===Y.Open:r.listboxState.value===0);return()=>{var u,v;let N={open:r.listboxState.value===0},{...R}=e,g={"aria-activedescendant":r.activeOptionIndex.value===null||(u=r.options.value[r.activeOptionIndex.value])==null?void 0:u.id,"aria-multiselectable":r.mode.value===1?!0:void 0,"aria-labelledby":(v=O(r.buttonRef))==null?void 0:v.id,"aria-orientation":r.orientation.value,id:n,onKeydown:p,role:"listbox",tabIndex:0,ref:r.optionsRef};return G({ourProps:g,theirProps:R,slot:N,attrs:t,slots:a,features:_e.RenderStrategy|_e.Static,visible:c.value,name:"ListboxOptions"})}}}),Gt=B({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a,expose:i}){var o;let n=(o=e.id)!=null?o:`headlessui-listbox-option-${ve()}`,r=ae("ListboxOption"),_=h(null);i({el:_,$el:_});let p=y(()=>r.activeOptionIndex.value!==null?r.options.value[r.activeOptionIndex.value].id===n:!1),s=y(()=>I(r.mode.value,{0:()=>r.compare(L(r.value.value),L(e.value)),1:()=>L(r.value.value).some(l=>r.compare(L(l),L(e.value)))})),c=y(()=>I(r.mode.value,{1:()=>{var l;let d=L(r.value.value);return((l=r.options.value.find(m=>d.some(b=>r.compare(L(b),L(m.dataRef.value)))))==null?void 0:l.id)===n},0:()=>s.value})),u=At(_),v=y(()=>({disabled:e.disabled,value:e.value,get textValue(){return u()},domRef:_}));Q(()=>r.registerOption(n,v)),Ge(()=>r.unregisterOption(n)),Q(()=>{De([r.listboxState,s],()=>{r.listboxState.value===0&&s.value&&I(r.mode.value,{1:()=>{c.value&&r.goToOption(j.Specific,n)},0:()=>{r.goToOption(j.Specific,n)}})},{immediate:!0})}),re(()=>{r.listboxState.value===0&&p.value&&r.activationTrigger.value!==0&&z(()=>{var l,d;return(d=(l=O(_))==null?void 0:l.scrollIntoView)==null?void 0:d.call(l,{block:"nearest"})})});function N(l){if(e.disabled)return l.preventDefault();r.select(e.value),r.mode.value===0&&(r.closeListbox(),z(()=>{var d;return(d=O(r.buttonRef))==null?void 0:d.focus({preventScroll:!0})}))}function R(){if(e.disabled)return r.goToOption(j.Nothing);r.goToOption(j.Specific,n)}let g=$t();function f(l){g.update(l)}function T(l){g.wasMoved(l)&&(e.disabled||p.value||r.goToOption(j.Specific,n,0))}function S(l){g.wasMoved(l)&&(e.disabled||p.value&&r.goToOption(j.Nothing))}return()=>{let{disabled:l}=e,d={active:p.value,selected:s.value,disabled:l},{value:m,disabled:b,...w}=e,$={id:n,ref:_,role:"option",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-selected":s.value,disabled:void 0,onClick:N,onFocus:R,onPointerenter:f,onMouseenter:f,onPointermove:T,onMousemove:T,onPointerleave:S,onMouseleave:S};return G({ourProps:$,theirProps:w,slot:d,attrs:a,slots:t,name:"ListboxOption"})}}});const Jt=Ne+"#down-chevron",er={class:"demo__tabs"},tr={class:"tabs",role:"radiogroup","aria-label":"routes in demo"},rr=["value"],ar={class:"tabs-mobile"},nr={class:"tabs-mobile__wrapper"},ir={class:"tabs-mobile__trigger-text"},or=B({__name:"routesNav",setup(e){const t=ce(),a=y({get:()=>t.currentView,set:i=>t.setCurrentRoute(i)});return(i,o)=>{const n=Xt,r=Gt,_=Yt,p=Wt;return E(),q("div",er,[D("div",tr,[(E(!0),q(W,null,oe(A(X)[A(t).currentRole].routes,s=>(E(),q("label",{key:s.key,class:"tabs__item"},[Re(D("input",{class:"tabs__radio",type:"radio",name:"demo-route",value:s.key,"onUpdate:modelValue":o[0]||(o[0]=c=>le(a)?a.value=c:null)},null,8,rr),[[ke,A(a)]]),D("span",{class:H(["tabs__label",{"tabs__label--active":s.key===A(t).currentView}])},Z(s.titleRu),3)]))),128))]),D("div",ar,[V(p,{modelValue:A(a),"onUpdate:modelValue":o[1]||(o[1]=s=>le(a)?a.value=s:null)},{default:F(({open:s})=>[D("div",nr,[V(n,{class:"tabs-mobile__trigger"},{default:F(()=>[D("span",ir,Z(A(t).getCurrentRouteTitle),1),(E(),q("svg",{class:H(["tabs-mobile__icon",{"tabs-mobile__icon--open":s}]),"aria-hidden":"true"},[...o[2]||(o[2]=[D("use",{href:Jt},null,-1)])],2))]),_:2},1024),V(Je,{"leave-active-class":"tabs-mobile__transition-leave-active","leave-from-class":"tabs-mobile__transition-leave-from","leave-to-class":"tabs-mobile__transition-leave-to"},{default:F(()=>[V(_,{class:"tabs-mobile__dropdown"},{default:F(()=>[(E(!0),q(W,null,oe(A(X)[A(t).currentRole].routes,c=>(E(),de(r,{key:c.key,value:c.key,as:"template"},{default:F(({active:u,selected:v})=>[D("li",{class:H(["tabs-mobile__option",{"tabs-mobile__option--active":u,"tabs-mobile__option--selected":v}])},[D("span",{class:H(["tabs-mobile__option-text",{"tabs-mobile__option-text--selected":v}])},Z(c.titleRu),3)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])])])}}}),Fe=Object.assign(K(or,[["__scopeId","data-v-bcf19296"]]),{__name:"DemoRoutesNav"}),lr=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"})),dr={},_r={class:"loader-container"};function ur(e,t){return E(),q("div",_r,[...t[0]||(t[0]=[D("div",{class:"loader"},null,-1)])])}const Me=Object.assign(K(dr,[["render",ur],["__scopeId","data-v-dc7de69e"]]),{__name:"DemoLoader"}),sr=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),cr={};function vr(e,t){return E(),q("div",null,"Страница не найдена")}const Ue=Object.assign(K(cr,[["render",vr]]),{__name:"DemoFallbackPage"}),pr=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),ee={transportCompanies:[{id:"tc_001",name:"ТК Север"},{id:"tc_002",name:"ТК Восток"},{id:"tc_003",name:"ТК Юг"},{id:"tc_004",name:"ТК Запад"},{id:"tc_005",name:"ТК Центр"}],drivers:[{id:"drv_tc001_01",company_id:"tc_001",full_name:"Иванов Сергей Петрович",truck_number:"A101AA77",trailer_number:"TR-0001"},{id:"drv_tc001_02",company_id:"tc_001",full_name:"Петров Алексей Игоревич",truck_number:"A102AA77",trailer_number:"TR-0002"},{id:"drv_tc001_03",company_id:"tc_001",full_name:"Сидоров Дмитрий Андреевич",truck_number:"A103AA77",trailer_number:"TR-0003"},{id:"drv_tc001_04",company_id:"tc_001",full_name:"Кузнецов Максим Олегович",truck_number:"A104AA77",trailer_number:"TR-0004"},{id:"drv_tc001_05",company_id:"tc_001",full_name:"Смирнов Павел Николаевич",truck_number:"A105AA77",trailer_number:"TR-0005"},{id:"drv_tc002_01",company_id:"tc_002",full_name:"Васильев Илья Сергеевич",truck_number:"B201BB77",trailer_number:"TR-0006"},{id:"drv_tc002_02",company_id:"tc_002",full_name:"Морозов Артём Викторович",truck_number:"B202BB77",trailer_number:"TR-0007"},{id:"drv_tc002_03",company_id:"tc_002",full_name:"Фёдоров Роман Евгеньевич",truck_number:"B203BB77",trailer_number:"TR-0008"},{id:"drv_tc002_04",company_id:"tc_002",full_name:"Новиков Антон Михайлович",truck_number:"B204BB77",trailer_number:"TR-0009"},{id:"drv_tc002_05",company_id:"tc_002",full_name:"Павлов Кирилл Денисович",truck_number:"B205BB77",trailer_number:"TR-0010"},{id:"drv_tc003_01",company_id:"tc_003",full_name:"Волков Николай Сергеевич",truck_number:"C301CC77",trailer_number:"TR-0011"},{id:"drv_tc003_02",company_id:"tc_003",full_name:"Соколов Егор Павлович",truck_number:"C302CC77",trailer_number:"TR-0012"},{id:"drv_tc003_03",company_id:"tc_003",full_name:"Лебедев Тимур Аркадьевич",truck_number:"C303CC77",trailer_number:"TR-0013"},{id:"drv_tc003_04",company_id:"tc_003",full_name:"Козлов Денис Владимирович",truck_number:"C304CC77",trailer_number:"TR-0014"},{id:"drv_tc003_05",company_id:"tc_003",full_name:"Попов Степан Анатольевич",truck_number:"C305CC77",trailer_number:"TR-0015"},{id:"drv_tc004_01",company_id:"tc_004",full_name:"Михайлов Владислав Игоревич",truck_number:"D401DD77",trailer_number:"TR-0016"},{id:"drv_tc004_02",company_id:"tc_004",full_name:"Беляев Андрей Сергеевич",truck_number:"D402DD77",trailer_number:"TR-0017"},{id:"drv_tc004_03",company_id:"tc_004",full_name:"Тарасов Глеб Константинович",truck_number:"D403DD77",trailer_number:"TR-0018"},{id:"drv_tc004_04",company_id:"tc_004",full_name:"Захаров Ярослав Романович",truck_number:"D404DD77",trailer_number:"TR-0019"},{id:"drv_tc004_05",company_id:"tc_004",full_name:"Орлов Виктор Станиславович",truck_number:"D405DD77",trailer_number:"TR-0020"},{id:"drv_tc005_01",company_id:"tc_005",full_name:"Макаров Евгений Петрович",truck_number:"E501EE77",trailer_number:"TR-0021"},{id:"drv_tc005_02",company_id:"tc_005",full_name:"Григорьев Арсений Олегович",truck_number:"E502EE77",trailer_number:"TR-0022"},{id:"drv_tc005_03",company_id:"tc_005",full_name:"Данилов Игорь Николаевич",truck_number:"E503EE77",trailer_number:"TR-0023"},{id:"drv_tc005_04",company_id:"tc_005",full_name:"Борисов Матвей Сергеевич",truck_number:"E504EE77",trailer_number:"TR-0024"},{id:"drv_tc005_05",company_id:"tc_005",full_name:"Жуков Константин Юрьевич",truck_number:"E505EE77",trailer_number:"TR-0025"}],arrivalPlaces:[{id:"pl_001",name:"Завод Север-1",address:"г. Санкт-Петербург, переулок Каховского, 5А",map_x:410,map_y:290,link:"https://yandex.ru/maps/2/saint-petersburg/house/pereulok_kakhovskogo_5a/Z0kYdANhTUwAQFtjfXV0c3RlZg==/?ll=30.241999%2C59.952804&z=17.16"},{id:"pl_002",name:"Завод Север-2",address:"Деревня Заневка, Первый проезд, 1/38",map_x:1080.1,map_y:405,link:"https://yandex.ru/maps/10174/saint-petersburg-and-leningrad-oblast/house/pervy_proyezd_1_38/Z0kYcwZgTEEFQFtjfXVzeXpjbQ==/?ll=30.511378%2C59.929194&z=16.6"},{id:"pl_003",name:"Завод Восток-1",address:"г. Санкт-Петербург, Туристская улица, 22Б",map_x:300,map_y:60,link:"https://yandex.ru/maps/2/saint-petersburg/house/turistskaya_ulitsa_22b/Z0kYdAdmSUQEQFtjfXV4eHhhZg==/?ll=30.205254%2C59.998348&z=16.97"},{id:"pl_004",name:"Завод Восток-2",address:"г. Санкт-Петербург, Арсенальная улица, 78Б",map_x:710.3,map_y:220.8,link:"https://yandex.ru/maps/2/saint-petersburg/house/arsenalnaya_ulitsa_78b/Z0kYdQFhQEMGQFtjfXV3eHxgbA==/?ll=30.363494%2C59.968233&z=16.61"},{id:"pl_005",name:"Завод Юг-1",address:"г. Санкт-Петербург, Территория Вольный Остров, 4Е",map_x:370.7,map_y:585,link:"https://yandex.ru/maps/2/saint-petersburg/house/territoriya_volny_ostrov_4ye/Z0kYdARiTEwDQFtjfXR4dH5qbQ==/?ll=30.233443%2C59.895865&z=16.57"}],requests:[{id:"req_drv_tc001_01_01",driver_id:"drv_tc001_01",arrival_place_id:"pl_001",created_at:"2026-02-03T09:12:32",ttn_number:"TTN-2026-00001",unload_date:"2026-02-04",unload_start_time:"10:00",status:"accepted",product_name:"Цемент М500",weight_ttn:20.5,driver_phone:"+7 999 200-00-01"},{id:"req_drv_tc001_01_02",driver_id:"drv_tc001_01",arrival_place_id:"pl_001",created_at:"2026-02-06T14:30:43",ttn_number:"TTN-2026-00002",unload_date:"2026-02-09",unload_start_time:"09:30",status:"active",product_name:"Щебень фр. 5-20",weight_ttn:24,driver_phone:"+7 999 200-00-01"},{id:"req_drv_tc001_01_03",driver_id:"drv_tc001_01",arrival_place_id:"pl_002",created_at:"2026-02-01T08:05:12",ttn_number:"TTN-2026-00003",unload_date:"2026-02-02",unload_start_time:"12:15",status:"rejected",product_name:"Песок строительный",weight_ttn:18.2,driver_phone:"+7 999 200-00-01"},{id:"req_drv_tc001_02_01",driver_id:"drv_tc001_02",arrival_place_id:"pl_001",created_at:"2026-02-02T11:20:02",ttn_number:"TTN-2026-00004",unload_date:"2026-02-03",unload_start_time:"08:45",status:"accepted",product_name:"Металлопрокат",weight_ttn:16.8,driver_phone:"+7 999 200-00-02"},{id:"req_drv_tc001_02_02",driver_id:"drv_tc001_02",arrival_place_id:"pl_002",created_at:"2026-02-05T16:10:44",ttn_number:"TTN-2026-00005",unload_date:"2026-02-06",unload_start_time:"14:00",status:"rejected",product_name:"Кирпич рядовой",weight_ttn:12.4,driver_phone:"+7 999 200-00-02"},{id:"req_drv_tc001_03_01",driver_id:"drv_tc001_03",arrival_place_id:"pl_003",created_at:"2026-02-04T10:00:54",ttn_number:"TTN-2026-00006",unload_date:"2026-02-05",unload_start_time:"09:00",status:"accepted",product_name:"Гипс",weight_ttn:10,driver_phone:"+7 999 200-00-03"},{id:"req_drv_tc001_03_02",driver_id:"drv_tc001_03",arrival_place_id:"pl_004",created_at:"2026-02-07T09:40:38",ttn_number:"TTN-2026-00007",unload_date:"2026-02-10",unload_start_time:"11:30",status:"active",product_name:"Плитка керамическая",weight_ttn:8.6,driver_phone:"+7 999 200-00-03"},{id:"req_drv_tc001_03_03",driver_id:"drv_tc001_03",arrival_place_id:"pl_001",created_at:"2026-01-31T13:15:42",ttn_number:"TTN-2026-00008",unload_date:"2026-02-01",unload_start_time:"15:00",status:"rejected",product_name:"Сухие смеси",weight_ttn:14.2,driver_phone:"+7 999 200-00-03"},{id:"req_drv_tc001_04_01",driver_id:"drv_tc001_04",arrival_place_id:"pl_004",created_at:"2026-02-03T07:55:23",ttn_number:"TTN-2026-00009",unload_date:"2026-02-03",unload_start_time:"13:20",status:"rejected",product_name:"Арматура",weight_ttn:19.7,driver_phone:"+7 999 200-00-04"},{id:"req_drv_tc001_04_02",driver_id:"drv_tc001_04",arrival_place_id:"pl_005",created_at:"2026-02-06T12:05:59",ttn_number:"TTN-2026-00010",unload_date:"2026-02-07",unload_start_time:"10:10",status:"accepted",product_name:"Плиты перекрытия",weight_ttn:22.9,driver_phone:"+7 999 200-00-04"},{id:"req_drv_tc001_05_01",driver_id:"drv_tc001_05",arrival_place_id:"pl_001",created_at:"2026-02-01T10:10:00",ttn_number:"TTN-2026-00011",unload_date:"2026-02-02",unload_start_time:"09:10",status:"accepted",product_name:"Песок строительный",weight_ttn:21,driver_phone:"+7 999 200-00-05"},{id:"req_drv_tc001_05_02",driver_id:"drv_tc001_05",arrival_place_id:"pl_002",created_at:"2026-02-04T15:25:43",ttn_number:"TTN-2026-00012",unload_date:"2026-02-05",unload_start_time:"16:00",status:"rejected",product_name:"Щебень фр. 20-40",weight_ttn:25,driver_phone:"+7 999 200-00-05"},{id:"req_drv_tc002_01_01",driver_id:"drv_tc002_01",arrival_place_id:"pl_003",created_at:"2026-02-02T08:35:11",ttn_number:"TTN-2026-00013",unload_date:"2026-02-02",unload_start_time:"14:30",status:"accepted",product_name:"Кирпич рядовой",weight_ttn:13.1,driver_phone:"+7 999 200-00-06"},{id:"req_drv_tc002_01_02",driver_id:"drv_tc002_01",arrival_place_id:"pl_004",created_at:"2026-02-08T09:05:41",ttn_number:"TTN-2026-00014",unload_date:"2026-02-11",unload_start_time:"10:30",status:"active",product_name:"Сухие смеси",weight_ttn:9.8,driver_phone:"+7 999 200-00-06"},{id:"req_drv_tc002_01_03",driver_id:"drv_tc002_01",arrival_place_id:"pl_003",created_at:"2026-02-05T17:40:32",ttn_number:"TTN-2026-00015",unload_date:"2026-02-06",unload_start_time:"09:20",status:"rejected",product_name:"Гипсокартон",weight_ttn:6.2,driver_phone:"+7 999 200-00-06"},{id:"req_drv_tc002_02_01",driver_id:"drv_tc002_02",arrival_place_id:"pl_005",created_at:"2026-02-01T12:00:33",ttn_number:"TTN-2026-00016",unload_date:"2026-02-02",unload_start_time:"11:00",status:"rejected",product_name:"Металлопрокат",weight_ttn:17.3,driver_phone:"+7 999 200-00-07"},{id:"req_drv_tc002_02_02",driver_id:"drv_tc002_02",arrival_place_id:"pl_002",created_at:"2026-02-03T09:15:23",ttn_number:"TTN-2026-00017",unload_date:"2026-02-04",unload_start_time:"08:30",status:"accepted",product_name:"Цемент М500",weight_ttn:19.5,driver_phone:"+7 999 200-00-07"},{id:"req_drv_tc002_03_01",driver_id:"drv_tc002_03",arrival_place_id:"pl_002",created_at:"2026-02-04T18:10:53",ttn_number:"TTN-2026-00018",unload_date:"2026-02-05",unload_start_time:"13:00",status:"accepted",product_name:"Плитка керамическая",weight_ttn:7.9,driver_phone:"+7 999 200-00-08"},{id:"req_drv_tc002_03_02",driver_id:"drv_tc002_03",arrival_place_id:"pl_001",created_at:"2026-02-08T10:20:51",ttn_number:"TTN-2026-00019",unload_date:"2026-02-12",unload_start_time:"09:00",status:"active",product_name:"Кирпич облицовочный",weight_ttn:11.6,driver_phone:"+7 999 200-00-08"},{id:"req_drv_tc002_03_03",driver_id:"drv_tc002_03",arrival_place_id:"pl_002",created_at:"2026-02-02T07:50:12",ttn_number:"TTN-2026-00020",unload_date:"2026-02-03",unload_start_time:"16:10",status:"rejected",product_name:"Песок строительный",weight_ttn:20,driver_phone:"+7 999 200-00-08"},{id:"req_drv_tc002_04_01",driver_id:"drv_tc002_04",arrival_place_id:"pl_004",created_at:"2026-02-03T13:35:43",ttn_number:"TTN-2026-00021",unload_date:"2026-02-04",unload_start_time:"12:00",status:"accepted",product_name:"Арматура",weight_ttn:18,driver_phone:"+7 999 200-00-09"},{id:"req_drv_tc002_04_02",driver_id:"drv_tc002_04",arrival_place_id:"pl_004",created_at:"2026-02-06T08:15:00",ttn_number:"TTN-2026-00022",unload_date:"2026-02-07",unload_start_time:"08:50",status:"rejected",product_name:"Плиты перекрытия",weight_ttn:23.5,driver_phone:"+7 999 200-00-09"},{id:"req_drv_tc002_05_01",driver_id:"drv_tc002_05",arrival_place_id:"pl_003",created_at:"2026-02-02T15:00:01",ttn_number:"TTN-2026-00023",unload_date:"2026-02-03",unload_start_time:"10:40",status:"rejected",product_name:"Гипс",weight_ttn:9.1,driver_phone:"+7 999 200-00-10"},{id:"req_drv_tc002_05_02",driver_id:"drv_tc002_05",arrival_place_id:"pl_004",created_at:"2026-02-05T09:25:48",ttn_number:"TTN-2026-00024",unload_date:"2026-02-06",unload_start_time:"15:10",status:"accepted",product_name:"Сухие смеси",weight_ttn:12,driver_phone:"+7 999 200-00-10"},{id:"req_drv_tc003_01_01",driver_id:"drv_tc003_01",arrival_place_id:"pl_005",created_at:"2026-02-01T09:45:09",ttn_number:"TTN-2026-00025",unload_date:"2026-02-02",unload_start_time:"12:40",status:"accepted",product_name:"Цемент М500",weight_ttn:20,driver_phone:"+7 999 200-00-11"},{id:"req_drv_tc003_01_02",driver_id:"drv_tc003_01",arrival_place_id:"pl_002",created_at:"2026-02-04T11:10:52",ttn_number:"TTN-2026-00026",unload_date:"2026-02-05",unload_start_time:"09:25",status:"rejected",product_name:"Щебень фр. 5-20",weight_ttn:24.5,driver_phone:"+7 999 200-00-11"},{id:"req_drv_tc003_02_01",driver_id:"drv_tc003_02",arrival_place_id:"pl_004",created_at:"2026-02-03T10:30:43",ttn_number:"TTN-2026-00027",unload_date:"2026-02-04",unload_start_time:"10:10",status:"accepted",product_name:"Металлопрокат",weight_ttn:15.2,driver_phone:"+7 999 200-00-12"},{id:"req_drv_tc003_02_02",driver_id:"drv_tc003_02",arrival_place_id:"pl_003",created_at:"2026-02-08T12:20:43",ttn_number:"TTN-2026-00028",unload_date:"2026-02-13",unload_start_time:"11:15",status:"active",product_name:"Арматура",weight_ttn:18.9,driver_phone:"+7 999 200-00-12"},{id:"req_drv_tc003_02_03",driver_id:"drv_tc003_02",arrival_place_id:"pl_001",created_at:"2026-02-05T16:55:23",ttn_number:"TTN-2026-00029",unload_date:"2026-02-06",unload_start_time:"09:05",status:"rejected",product_name:"Песок строительный",weight_ttn:19.2,driver_phone:"+7 999 200-00-12"},{id:"req_drv_tc003_03_01",driver_id:"drv_tc003_03",arrival_place_id:"pl_004",created_at:"2026-02-02T07:40:56",ttn_number:"TTN-2026-00030",unload_date:"2026-02-03",unload_start_time:"08:10",status:"accepted",product_name:"Гипсокартон",weight_ttn:6.9,driver_phone:"+7 999 200-00-13"},{id:"req_drv_tc003_03_02",driver_id:"drv_tc003_03",arrival_place_id:"pl_004",created_at:"2026-02-06T10:05:37",ttn_number:"TTN-2026-00031",unload_date:"2026-02-07",unload_start_time:"14:20",status:"rejected",product_name:"Плитка керамическая",weight_ttn:8.1,driver_phone:"+7 999 200-00-13"},{id:"req_drv_tc003_04_01",driver_id:"drv_tc003_04",arrival_place_id:"pl_003",created_at:"2026-02-03T12:10:27",ttn_number:"TTN-2026-00032",unload_date:"2026-02-04",unload_start_time:"15:30",status:"rejected",product_name:"Кирпич рядовой",weight_ttn:12.9,driver_phone:"+7 999 200-00-14"},{id:"req_drv_tc003_04_02",driver_id:"drv_tc003_04",arrival_place_id:"pl_004",created_at:"2026-02-05T09:35:35",ttn_number:"TTN-2026-00033",unload_date:"2026-02-06",unload_start_time:"10:05",status:"accepted",product_name:"Сухие смеси",weight_ttn:11.4,driver_phone:"+7 999 200-00-14"},{id:"req_drv_tc003_05_01",driver_id:"drv_tc003_05",arrival_place_id:"pl_005",created_at:"2026-02-01T14:25:38",ttn_number:"TTN-2026-00034",unload_date:"2026-02-02",unload_start_time:"10:50",status:"rejected",product_name:"Щебень фр. 20-40",weight_ttn:26,driver_phone:"+7 999 200-00-15"},{id:"req_drv_tc003_05_02",driver_id:"drv_tc003_05",arrival_place_id:"pl_002",created_at:"2026-02-08T08:10:43",ttn_number:"TTN-2026-00035",unload_date:"2026-02-12",unload_start_time:"13:10",status:"active",product_name:"Цемент М500",weight_ttn:20.8,driver_phone:"+7 999 200-00-15"},{id:"req_drv_tc003_05_03",driver_id:"drv_tc003_05",arrival_place_id:"pl_003",created_at:"2026-02-04T17:05:23",ttn_number:"TTN-2026-00036",unload_date:"2026-02-05",unload_start_time:"09:40",status:"accepted",product_name:"Песок строительный",weight_ttn:18.7,driver_phone:"+7 999 200-00-15"},{id:"req_drv_tc004_01_01",driver_id:"drv_tc004_01",arrival_place_id:"pl_001",created_at:"2026-02-02T09:05:00",ttn_number:"TTN-2026-00037",unload_date:"2026-02-03",unload_start_time:"12:10",status:"accepted",product_name:"Арматура",weight_ttn:17.8,driver_phone:"+7 999 200-00-16"},{id:"req_drv_tc004_01_02",driver_id:"drv_tc004_01",arrival_place_id:"pl_003",created_at:"2026-02-06T13:30:32",ttn_number:"TTN-2026-00038",unload_date:"2026-02-07",unload_start_time:"09:00",status:"rejected",product_name:"Металлопрокат",weight_ttn:15.9,driver_phone:"+7 999 200-00-16"},{id:"req_drv_tc004_02_01",driver_id:"drv_tc004_02",arrival_place_id:"pl_003",created_at:"2026-02-03T08:25:09",ttn_number:"TTN-2026-00039",unload_date:"2026-02-04",unload_start_time:"09:30",status:"accepted",product_name:"Кирпич облицовочный",weight_ttn:11.2,driver_phone:"+7 999 200-00-17"},{id:"req_drv_tc004_02_02",driver_id:"drv_tc004_02",arrival_place_id:"pl_001",created_at:"2026-02-08T15:10:04",ttn_number:"TTN-2026-00040",unload_date:"2026-02-13",unload_start_time:"10:20",status:"active",product_name:"Плитка керамическая",weight_ttn:8.4,driver_phone:"+7 999 200-00-17"},{id:"req_drv_tc004_02_03",driver_id:"drv_tc004_02",arrival_place_id:"pl_002",created_at:"2026-02-05T11:50:23",ttn_number:"TTN-2026-00041",unload_date:"2026-02-06",unload_start_time:"16:00",status:"rejected",product_name:"Сухие смеси",weight_ttn:12.6,driver_phone:"+7 999 200-00-17"},{id:"req_drv_tc004_03_01",driver_id:"drv_tc004_03",arrival_place_id:"pl_003",created_at:"2026-02-01T08:30:00",ttn_number:"TTN-2026-00042",unload_date:"2026-02-02",unload_start_time:"09:00",status:"rejected",product_name:"Гипсокартон",weight_ttn:6.1,driver_phone:"+7 999 200-00-18"},{id:"req_drv_tc004_03_02",driver_id:"drv_tc004_03",arrival_place_id:"pl_004",created_at:"2026-02-04T10:40:32",ttn_number:"TTN-2026-00043",unload_date:"2026-02-05",unload_start_time:"11:10",status:"accepted",product_name:"Песок строительный",weight_ttn:20.3,driver_phone:"+7 999 200-00-18"},{id:"req_drv_tc004_04_01",driver_id:"drv_tc004_04",arrival_place_id:"pl_005",created_at:"2026-02-02T16:20:57",ttn_number:"TTN-2026-00044",unload_date:"2026-02-03",unload_start_time:"10:20",status:"rejected",product_name:"Цемент М500",weight_ttn:21.2,driver_phone:"+7 999 200-00-19"},{id:"req_drv_tc004_04_02",driver_id:"drv_tc004_04",arrival_place_id:"pl_003",created_at:"2026-02-08T09:35:29",ttn_number:"TTN-2026-00045",unload_date:"2026-02-12",unload_start_time:"09:45",status:"active",product_name:"Щебень фр. 5-20",weight_ttn:23.7,driver_phone:"+7 999 200-00-19"},{id:"req_drv_tc004_04_03",driver_id:"drv_tc004_04",arrival_place_id:"pl_004",created_at:"2026-02-05T18:05:22",ttn_number:"TTN-2026-00046",unload_date:"2026-02-06",unload_start_time:"10:00",status:"accepted",product_name:"Кирпич рядовой",weight_ttn:13.4,driver_phone:"+7 999 200-00-19"},{id:"req_drv_tc004_05_01",driver_id:"drv_tc004_05",arrival_place_id:"pl_001",created_at:"2026-02-03T09:55:20",ttn_number:"TTN-2026-00047",unload_date:"2026-02-04",unload_start_time:"13:10",status:"accepted",product_name:"Металлопрокат",weight_ttn:16.4,driver_phone:"+7 999 200-00-20"},{id:"req_drv_tc004_05_02",driver_id:"drv_tc004_05",arrival_place_id:"pl_003",created_at:"2026-02-06T07:40:10",ttn_number:"TTN-2026-00048",unload_date:"2026-02-07",unload_start_time:"08:30",status:"rejected",product_name:"Арматура",weight_ttn:18.1,driver_phone:"+7 999 200-00-20"},{id:"req_drv_tc005_01_01",driver_id:"drv_tc005_01",arrival_place_id:"pl_005",created_at:"2026-02-04T09:10:22",ttn_number:"TTN-2026-00049",unload_date:"2026-02-05",unload_start_time:"10:30",status:"accepted",product_name:"Плиты перекрытия",weight_ttn:22.1,driver_phone:"+7 999 200-00-21"},{id:"req_drv_tc005_01_02",driver_id:"drv_tc005_01",arrival_place_id:"pl_004",created_at:"2026-02-08T11:00:12",ttn_number:"TTN-2026-00050",unload_date:"2026-02-13",unload_start_time:"12:00",status:"active",product_name:"Песок строительный",weight_ttn:19.9,driver_phone:"+7 999 200-00-21"},{id:"req_drv_tc005_01_03",driver_id:"drv_tc005_01",arrival_place_id:"pl_001",created_at:"2026-02-02T14:40:43",ttn_number:"TTN-2026-00051",unload_date:"2026-02-03",unload_start_time:"09:50",status:"rejected",product_name:"Сухие смеси",weight_ttn:12.1,driver_phone:"+7 999 200-00-21"},{id:"req_drv_tc005_02_01",driver_id:"drv_tc005_02",arrival_place_id:"pl_003",created_at:"2026-02-01T11:30:00",ttn_number:"TTN-2026-00052",unload_date:"2026-02-02",unload_start_time:"14:10",status:"rejected",product_name:"Кирпич облицовочный",weight_ttn:10.7,driver_phone:"+7 999 200-00-22"},{id:"req_drv_tc005_02_02",driver_id:"drv_tc005_02",arrival_place_id:"pl_004",created_at:"2026-02-05T08:05:52",ttn_number:"TTN-2026-00053",unload_date:"2026-02-06",unload_start_time:"09:30",status:"accepted",product_name:"Плитка керамическая",weight_ttn:7.6,driver_phone:"+7 999 200-00-22"},{id:"req_drv_tc005_03_01",driver_id:"drv_tc005_03",arrival_place_id:"pl_005",created_at:"2026-02-03T15:05:57",ttn_number:"TTN-2026-00054",unload_date:"2026-02-04",unload_start_time:"08:40",status:"rejected",product_name:"Щебень фр. 20-40",weight_ttn:26.3,driver_phone:"+7 999 200-00-23"},{id:"req_drv_tc005_03_02",driver_id:"drv_tc005_03",arrival_place_id:"pl_003",created_at:"2026-02-08T13:30:47",ttn_number:"TTN-2026-00055",unload_date:"2026-02-12",unload_start_time:"10:15",status:"active",product_name:"Цемент М500",weight_ttn:20.6,driver_phone:"+7 999 200-00-23"},{id:"req_drv_tc005_03_03",driver_id:"drv_tc005_03",arrival_place_id:"pl_004",created_at:"2026-02-04T18:20:49",ttn_number:"TTN-2026-00056",unload_date:"2026-02-05",unload_start_time:"11:00",status:"accepted",product_name:"Металлопрокат",weight_ttn:16.1,driver_phone:"+7 999 200-00-23"},{id:"req_drv_tc005_04_01",driver_id:"drv_tc005_04",arrival_place_id:"pl_005",created_at:"2026-02-02T10:10:12",ttn_number:"TTN-2026-00057",unload_date:"2026-02-03",unload_start_time:"15:20",status:"accepted",product_name:"Арматура",weight_ttn:18.6,driver_phone:"+7 999 200-00-24"},{id:"req_drv_tc005_04_02",driver_id:"drv_tc005_04",arrival_place_id:"pl_001",created_at:"2026-02-06T09:45:17",ttn_number:"TTN-2026-00058",unload_date:"2026-02-07",unload_start_time:"10:30",status:"rejected",product_name:"Гипсокартон",weight_ttn:6.5,driver_phone:"+7 999 200-00-24"},{id:"req_drv_tc005_05_01",driver_id:"drv_tc005_05",arrival_place_id:"pl_005",created_at:"2026-02-03T11:25:05",ttn_number:"TTN-2026-00059",unload_date:"2026-02-04",unload_start_time:"12:30",status:"rejected",product_name:"Песок строительный",weight_ttn:18.9,driver_phone:"+7 999 200-00-25"},{id:"req_drv_tc005_05_02",driver_id:"drv_tc005_05",arrival_place_id:"pl_002",created_at:"2026-02-05T14:05:08",ttn_number:"TTN-2026-00060",unload_date:"2026-02-06",unload_start_time:"09:10",status:"accepted",product_name:"Сухие смеси",weight_ttn:12.3,driver_phone:"+7 999 200-00-25"}]},mr="visits_demo_db",fr=1,x={companies:"transport_companies",drivers:"drivers",places:"arrival_places",requests:"requests"};function xe(){return typeof window<"u"&&typeof indexedDB<"u"}function U(e){return new Promise((t,a)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>a(e.error)})}const br=Se("demoDbStore",()=>{const e=h(!1),t=h(!1),a=h(null),i=h(null),o=h([]),n=h([]),r=h([]),_=h([]);async function p(){if(xe()&&!e.value){t.value=!0,a.value=null;try{const f=await new Promise((T,S)=>{const l=indexedDB.open(mr,fr);l.onupgradeneeded=()=>{const d=l.result,m=l.transaction;if(!m)throw new Error("Upgrade transaction is not available");for(const C of Array.from(d.objectStoreNames))d.deleteObjectStore(C);d.createObjectStore(x.companies,{keyPath:"id"}).createIndex("name","name",{unique:!0});const w=d.createObjectStore(x.drivers,{keyPath:"id"});w.createIndex("company_id","company_id",{unique:!1}),w.createIndex("truck_number","truck_number",{unique:!0}),w.createIndex("trailer_number","trailer_number",{unique:!0});const $=d.createObjectStore(x.places,{keyPath:"id"});$.createIndex("name","name",{unique:!0}),$.createIndex("address","address",{unique:!0});const M=d.createObjectStore(x.requests,{keyPath:"id"});M.createIndex("driver_id","driver_id",{unique:!1}),M.createIndex("arrival_place_id","arrival_place_id",{unique:!1}),M.createIndex("ttn_number","ttn_number",{unique:!0}),M.createIndex("status","status",{unique:!1});const ne=m.objectStore(x.companies),He=m.objectStore(x.drivers),Qe=m.objectStore(x.places),Ke=m.objectStore(x.requests);for(const C of ee.transportCompanies)ne.put(C);for(const C of ee.drivers)He.put(C);for(const C of ee.arrivalPlaces)Qe.put(C);for(const C of ee.requests)Ke.put(C)},l.onsuccess=()=>{const d=l.result;d.onversionchange=()=>{d.close(),alert("База данных обновилась. Перезагрузи страницу!")},T(d)},l.onerror=()=>S(l.error),l.onblocked=()=>{alert("Закрой другие вкладки с демо и перезагрузи страницу.")}});i.value=f,e.value=!0}catch(f){throw a.value=f?.message??"Failed to init IndexedDB",f}finally{t.value=!1}}}async function s(){if(!i.value)throw new Error("DB not initialized");const f=i.value.transaction([x.companies,x.drivers,x.places,x.requests],"readonly"),T=f.objectStore(x.companies).getAll(),S=f.objectStore(x.drivers).getAll(),l=f.objectStore(x.places).getAll(),d=f.objectStore(x.requests).getAll(),[m,b,w,$]=await Promise.all([U(T),U(S),U(l),U(d)]);o.value=m,n.value=b,r.value=w,_.value=$}async function c(f){if(!i.value)throw new Error("DB not initialized");if(!confirm("Вы действительно хотите отменить заявку?"))return null;const S=i.value.transaction([x.requests],"readwrite").objectStore(x.requests),l=await U(S.get(f));if(!l)throw new Error(`Request ${f} not found`);if(l.status!=="active")throw new Error(`Cannot cancel request with status ${l.status}`);const d={...l,status:"rejected"};await U(S.put(d));const m=_.value.findIndex(b=>b.id===f);return m!==-1?_.value[m]=d:_.value.push(d),d}async function u(f){if(!i.value)throw new Error("DB not initialized");const T=xe()&&typeof window.crypto?.randomUUID=="function"?window.crypto.randomUUID():`req_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,S=new Date().toISOString(),d={...f,id:T,created_at:S,status:"active"},b=i.value.transaction([x.requests],"readwrite").objectStore(x.requests);return await U(b.add(d)),_.value.push(d),d}function v(f){return f?r.value.find(S=>S.id===f)?.name??"-":"-"}function N(f){const T={id:"-",company_id:"-",full_name:"-",truck_number:"-",trailer_number:"-"};return f?n.value.find(l=>l.id===f)??T:T}function R(f){return f?_.value.filter(T=>T.driver_id===f):[]}function g(f){return f?_.value.some(T=>T.driver_id===f&&T.status==="active"):!1}return{initialized:e,loading:t,error:a,db:i,companies:o,drivers:n,arrivalPlaces:r,requests:_,initDb:p,loadAll:s,cancelRequest:c,sendRequest:u,getArrivalPlaceNameById:v,getCurrentDriverById:N,getCurrentDriverRequestsById:R,isCurrentDriverHaveActiveRequestById:g}}),hr={class:"demo"},gr={class:"demo__content"},Tr=B({__name:"index",setup(e){const t=ce(),a=br(),i=Object.assign({"/layers/visits/app/components/demo/consignee/analytics.vue":()=>P(()=>import("./9vMqxoZ8.js"),__vite__mapDeps([0,1,2]),import.meta.url),"/layers/visits/app/components/demo/consignee/applications.vue":()=>P(()=>import("./oTq5LOFq.js"),__vite__mapDeps([3,1,2]),import.meta.url),"/layers/visits/app/components/demo/consignee/queue.vue":()=>P(()=>import("./DsJLh50l.js"),__vite__mapDeps([4,1,2]),import.meta.url),"/layers/visits/app/components/demo/driver/applications.vue":()=>P(()=>import("./iUfmsyJC.js"),__vite__mapDeps([5,1,2]),import.meta.url),"/layers/visits/app/components/demo/driver/map.vue":()=>P(()=>import("./D8V6hF9r.js"),__vite__mapDeps([6,7,1,2,8,9]),import.meta.url),"/layers/visits/app/components/demo/driver/map/marker.vue":()=>P(()=>import("./ACzUO48d.js"),__vite__mapDeps([7,1,2,8]),import.meta.url),"/layers/visits/app/components/demo/driver/submit.vue":()=>P(()=>import("./4eb9OXBW.js"),__vite__mapDeps([10,1,2,11]),import.meta.url),"/layers/visits/app/components/demo/fallbackPage.vue":()=>P(()=>Promise.resolve().then(()=>pr),void 0,import.meta.url),"/layers/visits/app/components/demo/index.vue":()=>P(()=>Promise.resolve().then(()=>yr),void 0,import.meta.url),"/layers/visits/app/components/demo/loader.vue":()=>P(()=>Promise.resolve().then(()=>sr),void 0,import.meta.url),"/layers/visits/app/components/demo/manager/applications.vue":()=>P(()=>import("./BeJyePAs.js"),__vite__mapDeps([12,1,2]),import.meta.url),"/layers/visits/app/components/demo/rolesNav.vue":()=>P(()=>Promise.resolve().then(()=>pt),void 0,import.meta.url),"/layers/visits/app/components/demo/routesNav.vue":()=>P(()=>Promise.resolve().then(()=>lr),void 0,import.meta.url)}),o=y(()=>{const r=t.currentRole,_=t.currentView,s=X[r].routes.some(v=>v.key===_)?_:X[r].routes[0]?.key,c=`/layers/visits/app/components/demo/${r}/${s}.vue`,u=i[c];return u?rt(u):Ue}),n=y(()=>`${t.currentRole}:${t.currentView}`);return Q(async()=>{await a.initDb(),await a.loadAll()}),(r,_)=>{const p=Ee,s=Fe,c=Me,u=it;return E(),q("div",hr,[V(p),D("div",gr,[V(s),V(u,null,{default:F(()=>[(E(),de(et,null,{fallback:F(()=>[V(c)]),default:F(()=>[(E(),de(tt(A(o)),{key:A(n)}))]),_:1}))]),_:1})])])}}}),ze=Object.assign(K(Tr,[["__scopeId","data-v-72f87216"]]),{__name:"Demo"}),yr=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"})),wr={},xr={class:"home"},Or={class:"home__demo block"};function Sr(e,t){const a=ze;return E(),q("main",xr,[t[0]||(t[0]=at('<div class="home__hero block" data-v-72a7fa81><div class="home__hero-text" data-v-72a7fa81><h1 class="home__hero-title" data-v-72a7fa81> Система «Визиты» </h1><h3 class="home__hero-subtitle" data-v-72a7fa81> Полный контроль логистики на вашей территории </h3><p class="home__hero-description" data-v-72a7fa81> Ликвидируйте простои транспорта, автоматизируйте въезд и учет грузов. Получите управляемый и предсказуемый грузопоток от въезда на территорию до формирования акта. </p></div></div>',1)),D("div",Or,[V(a)])])}const Rr=K(wr,[["render",Sr],["__scopeId","data-v-72a7fa81"]]),Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Rr},Symbol.toStringTag,{value:"Module"}));export{Ne as _,ce as a,Nr as i,br as u};
